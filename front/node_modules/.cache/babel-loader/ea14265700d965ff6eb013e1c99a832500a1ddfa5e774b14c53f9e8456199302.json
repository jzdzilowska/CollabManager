{"ast":null,"code":"var _jsxFileName = \"/Users/zdzilowska/Desktop/university/year 2/cs0320/term-project-rdbrooks-meball-jzdzilow-sridley/front/src/components/Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { IssueType, UserRole, mockedMode, singleSessionState, userSessionState } from \"../recoil/atoms\";\nimport \"../styles/Dashboard.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport Timer from \"./Timer\";\nimport \"../styles/nightsky.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n//import * as FileSaver from \"file-saver\";\n\nconst Dashboard = () => {\n  _s();\n  var _userSession$user10;\n  const [userSession, setUserSession] = useRecoilState(userSessionState);\n  const [singleSession, setSingleSession] = useRecoilState(singleSessionState);\n  const navigate = useNavigate();\n  const [bugCategory, setBugCategory] = useState(\"\");\n  const [debuggingProcess, setDebuggingProcess] = useState(\"\");\n  // timer for debugger to leave\n  const [fullTimeRemaining, setFullTimeRemaining] = useState(calculateFullTimeRemaining);\n  // timer for escalation\n  const [pairedTime, setPairedTime] = useState(0);\n  const [escalationTimeRemaining, setEscalationTimeRemaining] = useState(calculateTimeBeforeEscalation);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // call to get info from backend will continuously update this information\n  const [unpairedDP, setUnpairedDP] = useState([]);\n  const [unpairedHR, setUnpairedHR] = useState([]);\n  const [escalatedPairs, setEscalatedPairs] = useState([]);\n  const [nonEscalatedPairs, setNonEscalatedPairs] = useState([]);\n  const [escalationResult, setEscalationResult] = useState(\"\");\n  const isMockedMode = useRecoilValue(mockedMode);\n\n  // resets user session back to log in on unwanted backend interruptions\n  useEffect(() => {\n    if (userSession.user === null) {\n      setSingleSession({\n        partner: null,\n        issueType: IssueType.NoneSelected\n      });\n      setUserSession({\n        user: null,\n        role: UserRole.NoneSelected,\n        time: null\n      });\n      navigate(\"/login\");\n    }\n  }, [userSession.user]);\n\n  // resets user session back to log in on session ended\n  useEffect(() => {\n    var _userSession$user;\n    if (((_userSession$user = userSession.user) === null || _userSession$user === void 0 ? void 0 : _userSession$user.role) !== \"instructor\") {\n      const fetchData = async () => {\n        try {\n          await fetch(\"http://localhost:3333/getInfo\").then(response => response.json()).then(data => {\n            // if successfully can get info (and thus session is running), set values appropriately\n            if (data[\"result\"] === \"success\" && !sessionStarted) {\n              setSessionStarted(true);\n            }\n            // if no session is running, sets all values to empty arrays\n            if (data[\"result\"] === \"error_bad_request\" && data[\"error_message\"] === \"No session is running.\") {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected\n              });\n              setUserSession({\n                user: null,\n                role: UserRole.NoneSelected,\n                time: null\n              });\n            }\n          });\n        } catch (error) {\n          console.log(\"Error encountered: \" + error);\n        }\n      };\n      // fetches data initally\n      fetchData();\n      // Fetch data every 5 seconds\n      const intervalId = setInterval(fetchData, 5000);\n      return () => clearInterval(intervalId);\n    }\n  }, []);\n\n  /* MOCKED BACKEND -------------------------------------- */\n\n  useEffect(() => {\n    if (isMockedMode) {\n      const fetchPartner = async () => {\n        try {\n          const response = await fetch(\"http://localhost:2000/getSession\");\n          const data = await response.json();\n          if (userSession.role === UserRole.DebuggingPartner) {\n            const sessionAsDP = data.pHelpRequester;\n            const partner = sessionAsDP.user;\n            const issue = sessionAsDP.issueType;\n            setSingleSession({\n              partner: partner,\n              issueType: issue\n            });\n          }\n          if (userSession.role === UserRole.HelpRequester) {\n            const sessionAsHR = data.pDebuggingPartner;\n            const partner = sessionAsHR.user;\n            setSingleSession({\n              partner: partner,\n              issueType: singleSession.issueType\n            });\n          }\n        } catch (error) {\n          console.log(\"Error encountered in mocked mode: \" + error);\n        }\n      };\n      fetchPartner();\n    }\n  }, []);\n\n  /* end of MOCKED BACKEND -------------------------------------- */\n\n  /* -------------------------------timer content ---------------------------------------*/\n\n  // calculates time remaining for a session\n  function calculateFullTimeRemaining() {\n    if (userSession.time === null) {\n      return 0;\n    }\n    const oneHourInMillis = 60 * 60 * 1000; // 1 hour in milliseconds\n    const currentTime = new Date().getTime();\n    const elapsedTime = currentTime - userSession.time.getTime();\n    const remainingTime = Math.max(oneHourInMillis - elapsedTime, 0);\n    return remainingTime;\n  }\n  useEffect(() => {\n    const timerInterval = setInterval(() => {\n      setFullTimeRemaining(calculateFullTimeRemaining());\n    }, 1000);\n    return () => clearInterval(timerInterval);\n  }, [userSession.time]);\n\n  // timer for escalation (15 minutes)\n  function calculateTimeBeforeEscalation() {\n    if (userSession.time === null) {\n      return 0;\n    }\n    const fifteenMinsInMillis = 1 * 60 * 1000; // 15 mins in milliseconds\n    const currentHour = new Date().getHours();\n    const currentMin = new Date().getMinutes();\n    const currentSec = new Date().getSeconds();\n    const millisecondsHour = 60 * 60 * 1000; // 1 hour in milliseconds\n    const millisecondsInMinute = 60 * 1000; // 1 minute in milliseconds\n    const millisecondsInSecond = 1000; // 1 sec in milliseconds\n\n    const currTimeMilis = currentHour * millisecondsHour + currentMin * millisecondsInMinute + currentSec * millisecondsInSecond;\n\n    // change userSession.time.getTime() to something that changes when people are matched\n    console.log(currTimeMilis, pairedTime);\n    const elapsedTime = currTimeMilis - pairedTime;\n    const remainingTime = Math.max(fifteenMinsInMillis - elapsedTime, 0);\n    return remainingTime;\n  }\n  useEffect(() => {\n    const timerInterval = setInterval(() => {\n      setEscalationTimeRemaining(calculateTimeBeforeEscalation());\n    }, 1000);\n    return () => clearInterval(timerInterval);\n  }, [singleSession]);\n\n  /* ---------------------------- end of timer content ------------------------------------*/\n\n  /* -------------------------- get info for instructors ----------------------------------*/\n\n  /* gets information about debugging parters, help requesters and pairings from \n  backend to update instructor page */\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        await fetch(\"http://localhost:3333/getInfo\").then(response => response.json()).then(data => {\n          // if successfully can get info (and thus session is running), set values appropriately\n          if (data[\"result\"] === \"success\") {\n            setUnpairedDP(data.openDBPs);\n            setUnpairedHR(data.waitingHRQs);\n            setEscalatedPairs(data.escalatedPairs);\n            setNonEscalatedPairs(data.nonEscalatedPairs);\n          }\n          // if no session is running, sets all values to empty arrays\n          if (data[\"result\"] === \"error_bad_request\" && data[\"error_message\"] === \"No session is running.\") {\n            setUnpairedDP([]);\n            setUnpairedHR([]);\n            setEscalatedPairs([]);\n            setNonEscalatedPairs([]);\n          }\n        });\n      } catch (error) {\n        console.log(\"Error encountered when fetching session data: \" + error);\n      }\n    };\n\n    // fetches data initally\n    fetchData();\n\n    // Fetch data every 5 seconds (adjust the interval as needed)\n    const intervalId = setInterval(fetchData, 5000);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  /* -------------------------- end of get info for instructors ---------------------------*/\n\n  /* ---------------------------------- get info debuggings and help requesters -----------------------------------------*/\n\n  // get info for debugging helpers and help requesters every 5 seconds\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        if (userSession.role === UserRole.DebuggingPartner) {\n          var _userSession$user2, _userSession$user3;\n          await fetch(\"http://localhost:3333/getInfo?role=debuggingPartner&name=\" + ((_userSession$user2 = userSession.user) === null || _userSession$user2 === void 0 ? void 0 : _userSession$user2.name) + \"&email=\" + ((_userSession$user3 = userSession.user) === null || _userSession$user3 === void 0 ? void 0 : _userSession$user3.email)).then(response => response.json()).then(data => {\n            if (data[\"result\"] === \"error_bad_request\") {\n              setUserSession({\n                user: null,\n                role: UserRole.NoneSelected,\n                time: null\n              });\n            }\n            // create partner\n            const partnerName = data.helpRequesterName;\n            const partnerEmail = data.helpRequesterEmail;\n            const bugType = data.helpRequesterBug;\n            const flagged = data.flagged;\n            if (flagged) {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected\n              });\n              return alert(\"You have been flagged!\");\n            }\n            const pairedAtTimeString = data.pairedAtTime;\n            const [hours, minutes, seconds] = pairedAtTimeString.split(\":\").map(Number);\n            const millisecondsInHour = 60 * 60 * 1000; // 1 hour in milliseconds\n            const millisecondsInMinute = 60 * 1000; // 1 minute in milliseconds\n            const millisecondsInSecond = 1000; // 1 second in milliseconds\n\n            // to fix problem of backend not being 24 hour clock\n            var adjustHours = hours;\n\n            // add 12 hours to the hours from the backend when in the 24 hr clock it's 13+\n            if (new Date().getHours() > 12) {\n              adjustHours += 12;\n            }\n\n            // adjust hours will be the hours when 0-12\n            // adjust hours will add 12 hours to backend when 13-24\n            const pairedAtTimeMilis = adjustHours * millisecondsInHour + minutes * millisecondsInMinute + seconds * millisecondsInSecond;\n            if (partnerName === \"\") {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected\n              });\n            }\n            if (partnerName !== \"\") {\n              setPairedTime(pairedAtTimeMilis);\n              var partner = {\n                email: partnerEmail,\n                name: partnerName,\n                role: \"student\"\n              };\n              if (bugType === \"bug\") {\n                setSingleSession({\n                  partner: partner,\n                  issueType: IssueType.Bug\n                });\n              }\n              if (bugType === \"conceptual\") {\n                setSingleSession({\n                  partner: partner,\n                  issueType: IssueType.ConceptualQuestion\n                });\n              }\n            }\n          });\n        }\n        if (userSession.role === UserRole.HelpRequester) {\n          var _userSession$user4, _userSession$user5;\n          await fetch(\"http://localhost:3333/getInfo?role=helpRequester&name=\" + ((_userSession$user4 = userSession.user) === null || _userSession$user4 === void 0 ? void 0 : _userSession$user4.name) + \"&email=\" + ((_userSession$user5 = userSession.user) === null || _userSession$user5 === void 0 ? void 0 : _userSession$user5.email)).then(response => response.json()).then(data => {\n            if (data[\"result\"] === \"error_bad_request\") {\n              setUserSession({\n                user: null,\n                role: UserRole.NoneSelected,\n                time: null\n              });\n            }\n            const partnerName = data.debuggingPartnerName;\n            const escalated = data.escalated;\n            if (escalated) {\n              setEscalationResult(\"You have been escalated\");\n            }\n            if (partnerName === \"\") {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected\n              });\n            }\n            if (partnerName !== \"\") {\n              var partner = {\n                email: \"\",\n                name: partnerName,\n                role: \"student\"\n              };\n              setSingleSession({\n                partner: partner,\n                issueType: singleSession.issueType\n              });\n            }\n          });\n        }\n      } catch (error) {\n        console.log(\"Error encountered during fetching user data\" + error);\n      }\n    };\n\n    // fetches data initally\n    fetchUserData();\n\n    // Fetches data every 5 seconds\n    const intervalId = setInterval(() => fetchUserData(), 5000);\n    return () => clearInterval(intervalId);\n  }, []);\n  function removeFromQueue(email, name, role) {\n    if (role === UserRole.DebuggingPartner) {\n      console.log(name);\n      console.log(email);\n      return fetch(\"http://localhost:3333/debuggingPartnerDone?name=\" + name + \"&email=\" + email + \"&record=yes\").then(response => response.json()).then(data => {\n        return data[\"result\"];\n      }).catch(error => {\n        console.log(\"Error encountered when removing debugging partner from queue\" + error);\n      });\n    }\n    // if user is a help requester and they have been paired\n    if (role === UserRole.HelpRequester && singleSession.partner) {\n      return fetch(\"http://localhost:3333/helpRequesterDone?name=\" + name + \"&email=\" + email + \"&record=yes\").then(response => response.json()).then(data => {\n        return data[\"result\"];\n      }).catch(e => {\n        return \"ERROR: \" + e;\n      });\n    }\n    // if user is help requester and they haven't been paired\n    if (role === UserRole.HelpRequester && singleSession.partner == null) {\n      return fetch(\"http://localhost:3333/helpRequesterDone?name=\" + name + \"&email=\" + email + \"&record=no\").then(response => response.json()).then(data => {\n        return data[\"result\"];\n      }).catch(error => {\n        console.log(\"Error encountered when removing help requester from queue\" + error);\n      });\n    } else {\n      return new Promise(resolves => {\n        resolves(\"ERROR: UserRole must be HelpRequester or DebuggingPartner for this function\");\n      });\n    }\n  }\n\n  /* ---------------------------------- end get info debuggings and help requesters -----------------------------------------*/\n\n  const openResourcesWebsite = () => {\n    const url = \"https://hackmd.io/@brown-csci0320/BJKCtyxxs/\";\n    window.open(url, \"_blank\");\n  };\n\n  /* ---------------------------------- handlers -----------------------------------------*/\n\n  const handleFormSubmit = async () => {\n    console.log(mockedMode);\n    if (bugCategory === \"\" || debuggingProcess === \"\") {\n      return alert(\"Bug category and debugging process inputs required!\");\n    }\n    if (!singleSession.partner) {\n      alert(\"You cannot submit this form until you have been matched with a help requester\");\n    }\n    if (userSession.user && singleSession.partner) {\n      console.log(userSession.user.email, singleSession.partner, bugCategory, debuggingProcess);\n      try {\n        if (isMockedMode) {\n          const response = await fetch(\"http://localhost:2000/submitForm/\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              data: {\n                user: userSession.user.email,\n                partner: singleSession.partner.email,\n                bugCategory: bugCategory,\n                debuggingProcess: debuggingProcess\n              }\n            })\n          });\n          if (!response.ok) {\n            // If the server returns an error status\n            throw new Error(\"Server error: \" + response.status);\n          } else {\n            const result = await response.json();\n            if (result.success) {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected\n              });\n              setBugCategory(\"\");\n              setDebuggingProcess(\"\");\n            } else {\n              // Handle other success scenarios or display an error message\n              alert(\"Form submission failed:\" + result);\n            }\n          }\n        } else {\n          // THIS WILL NOT WORK YET DON\"T HAVE EMAIL OF HELP REQUESTER\n          // need to get the info about who is submitting\n          const response = await fetch(\"http://localhost:3333/submitDebuggingQuestions?debuggingPartnerName=\" + userSession.user.name + \"&debuggingPartnerEmail=\" + userSession.user.email + \"&helpRequesterName=\" + singleSession.partner.name + \"&helpRequesterEmail=\" + singleSession.partner.email + \"&bugCategory=\" + bugCategory + \"&debuggingProcess=\" + debuggingProcess).then(response => response.json()).then(data => {\n            if (data.result === \"success\") {\n              // SUBMITTING THE FORM DOESN\"T RESET THE DEBUGGING PARTNER; ONLY \"I'M DONE\" BY THE HELP REQUESTER\n              // setSingleSession({\n              //   partner: null,\n              //   issueType: IssueType.NoneSelected,\n              // });\n              setBugCategory(\"\");\n              setDebuggingProcess(\"\");\n              console.log(\"success\");\n            }\n          });\n        }\n      } catch (error) {\n        console.log(\"Error encountered during form submission\" + error);\n      }\n    }\n  };\n  const handleEscalate = async () => {\n    try {\n      var _singleSession$partne, _singleSession$partne2, _singleSession$partne3, _singleSession$partne4;\n      console.log((_singleSession$partne = singleSession.partner) === null || _singleSession$partne === void 0 ? void 0 : _singleSession$partne.name, (_singleSession$partne2 = singleSession.partner) === null || _singleSession$partne2 === void 0 ? void 0 : _singleSession$partne2.email);\n      await fetch(\"http://localhost:3333/escalate?helpRequesterName=\" + ((_singleSession$partne3 = singleSession.partner) === null || _singleSession$partne3 === void 0 ? void 0 : _singleSession$partne3.name) + \"&helpRequesterEmail=\" + ((_singleSession$partne4 = singleSession.partner) === null || _singleSession$partne4 === void 0 ? void 0 : _singleSession$partne4.email)).then(response => response.json()).then(data => {\n        if (data.result === \"success\") {\n          setEscalationResult(\"Escalation Success\");\n        } else {\n          setEscalationResult(\"Escalation failed\");\n        }\n      });\n    } catch (error) {\n      console.error(\"ERROR: \" + error);\n    }\n  };\n  const handleEndSession = role => {\n    if (role === UserRole.DebuggingPartner) {\n      var _userSession$user6, _userSession$user7;\n      removeFromQueue((_userSession$user6 = userSession.user) === null || _userSession$user6 === void 0 ? void 0 : _userSession$user6.email, (_userSession$user7 = userSession.user) === null || _userSession$user7 === void 0 ? void 0 : _userSession$user7.name, UserRole.DebuggingPartner);\n    }\n    if (role === UserRole.HelpRequester) {\n      var _userSession$user8, _userSession$user9;\n      console.log(userSession);\n      removeFromQueue((_userSession$user8 = userSession.user) === null || _userSession$user8 === void 0 ? void 0 : _userSession$user8.email, (_userSession$user9 = userSession.user) === null || _userSession$user9 === void 0 ? void 0 : _userSession$user9.name, UserRole.HelpRequester);\n      // reset partner of debugging partner\n\n      // take help requester out of the queue\n    }\n\n    setBugCategory(\"\");\n    setDebuggingProcess(\"\");\n    setSingleSession({\n      partner: null,\n      issueType: IssueType.NoneSelected\n    });\n    setUserSession({\n      user: null,\n      role: UserRole.NoneSelected,\n      time: null\n    });\n  };\n\n  // starts the session by calling backend\n  const handleStart = async () => {\n    try {\n      await fetch(\"http://localhost:3333/session?command=begin\");\n    } catch (error) {\n      console.log(\"Error encountered during session start: \" + error);\n    }\n    setSessionStarted(true);\n  };\n\n  // ends the session by calling backend\n  const handleEnd = async () => {\n    try {\n      // end session\n      await fetch(\"http://localhost:3333/session?command=end\");\n      const downloadInfoResponse = await fetch(\"http://localhost:3333/downloadInfo?type=debugging\");\n      if (downloadInfoResponse.ok) {\n        // if success response\n        const csvBlob = await downloadInfoResponse.blob(); // create blob element\n        const downloadLink = document.createElement(\"a\"); // create link\n        downloadLink.href = URL.createObjectURL(csvBlob); // url for blob, set as href attribute\n\n        // get current date for filename\n        const currentDate = new Date();\n        const formattedDateTime = currentDate.toLocaleDateString() + \"-\" + currentDate.toLocaleTimeString();\n\n        // Set file name for download\n        downloadLink.download = \"debugging-attendance-\" + formattedDateTime + \".csv\";\n        document.body.appendChild(downloadLink); // add link to document body\n        downloadLink.click(); // trigger click on link\n        document.body.removeChild(downloadLink); // remove link from document body\n      } else {\n        console.log(\"ERROR: could not download\");\n      }\n    } catch (error) {\n      console.log(\"Error encountered during session end\" + error);\n    }\n    setSessionStarted(false);\n  };\n\n  // removes a debugging partner from attendance (button accessible to instructors)\n  const handleRemove = (name, email) => async () => {\n    console.log(\"TEST\");\n    return fetch(\"http://localhost:3333/debuggingPartnerDone?name=\" + name + \"&email=\" + email + \"&record=no\").then(response => response.json()).then(data => {\n      return data[\"message\"];\n    }).catch(error => {\n      console.log(\"Error encountered during debugging partner removal: \" + error);\n    });\n  };\n\n  // will rematch the help requester and flag the debugging partner by removing from attendance\n  const handleRematchFlag = (HRname, HRemail, DPname, DPemail) => async () => {\n    return fetch(\"http://localhost:3333/flagAndRematch?helpRequesterName=\" + HRname + \"&helpRequesterEmail=\" + HRemail + \"&debuggingPartnerName=\" + DPname + \"&debuggingPartnerEmail=\" + DPemail).then(response => response.json()).then(data => {\n      return data[\"message\"];\n    }).catch(error => {\n      console.log(\"Error encountered during rematching: \" + error);\n    });\n  };\n  console.log(\"session started \" + sessionStarted);\n  const handleDownloadAll = async () => {\n    await fetch(\"http://localhost:3333/downloadInfo?type=all\", {\n      method: \"GET\"\n    }).then(response => {\n      if (!response.ok) {\n        alert(\"HTTP error! Status: \" + response.status);\n      }\n      const filenameHeader = response.headers.get(\"Content-Disposition\");\n      const filename = filenameHeader ? filenameHeader.split(\"=\")[1] : \"all-attendance.csv\";\n      console.log(filename);\n      console.log(filenameHeader);\n      return response.blob().then(blob => ({\n        blob,\n        filename\n      }));\n    }).then(({\n      blob,\n      filename\n    }) => {\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }).catch(error => {\n      console.log(\"Error encountered during data download: \" + error);\n    });\n  };\n\n  /* ----------------------- end of handlers / below rendering ---------------------------*/\n\n  const renderHeaderBasedOnRole = role => {\n    var _userSession$time, _userSession$time2;\n    switch (role) {\n      case UserRole.Instructor:\n        return /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"instructor-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"download-button\",\n            onClick: handleDownloadAll,\n            children: \"Download All Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 13\n          }, this), !sessionStarted ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"start-button\",\n            onClick: handleStart,\n            children: \"Start Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"end-button\",\n            onClick: handleEnd,\n            children: \"End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 11\n        }, this);\n      case UserRole.DebuggingPartner:\n        return /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"user-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"join-time\",\n            children: [\"Join time: \", (_userSession$time = userSession.time) === null || _userSession$time === void 0 ? void 0 : _userSession$time.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 13\n          }, this), renderTimerOrButton()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this);\n      case UserRole.HelpRequester:\n        return /*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"user-header\",\n          style: {\n            marginBottom: 170\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"join-time\",\n            children: [\"Join time: \", (_userSession$time2 = userSession.time) === null || _userSession$time2 === void 0 ? void 0 : _userSession$time2.toLocaleTimeString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"done-button\",\n            onClick: () => handleEndSession(UserRole.HelpRequester),\n            children: \"I'm done!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const renderTimerOrButton = () => {\n    // full time remaining = 60\n    if (fullTimeRemaining > 0) {\n      return /*#__PURE__*/_jsxDEV(Timer, {\n        fullTimeRemaining: fullTimeRemaining\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 14\n      }, this);\n    } else if (fullTimeRemaining === 0) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"done-button\",\n        onClick: () => handleEndSession(UserRole.DebuggingPartner),\n        children: \"I'm done!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const renderEscalateTimerOrButton = () => {\n    if (!singleSession.partner) {\n      return \"Single session hasn't started!\";\n    } else if (escalationTimeRemaining > 0) {\n      return /*#__PURE__*/_jsxDEV(Timer, {\n        fullTimeRemaining: escalationTimeRemaining\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 14\n      }, this);\n    } else if (escalationTimeRemaining === 0) {\n      return (\n        /*#__PURE__*/\n        // <button className=\"escalate-button\" onClick={() => handleEscalate()}>\n        //   Escalate!\n        // </button>\n        _jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"escalate-button\",\n            onClick: handleEscalate,\n            children: [\" \", \"Escalate!\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 11\n          }, this), escalationResult && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: escalationResult\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 9\n        }, this)\n      );\n    }\n  };\n\n  // creation of instructor page\n  const renderInstructorContent = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"instructor-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"unpaired-students-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"general-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Debugging Partners:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-debugging\",\n          style: {\n            height: \"95px\"\n          },\n          children: unpairedDP && unpairedDP.length > 0 ? unpairedDP.map((partner, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-debugging\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"single-debugging-namentime\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"name\",\n                children: [index + 1, \". \", partner[0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"time\",\n                children: [\"Joined at \", partner[2]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRemove(partner[0], partner[1]),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"darkred\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: \"None available!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"general-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Help Requesters:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-debugging\",\n          children: unpairedHR && unpairedHR.length > 0 ? unpairedHR.map((partner, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-debugging\",\n            style: {\n              display: \"flex\",\n              justifyContent: \"flex-start\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"single-debugging-namentime\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"name\",\n                children: [index + 1, \". \", partner[0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"time\",\n                children: [\"Joined at \", partner[2]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 842,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"darkred\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: \"None in queue!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 838,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"paired-students-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"general-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Escalated Pairs:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 873,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-debugging\",\n          style: {\n            height: \"95px\"\n          },\n          children: escalatedPairs && escalatedPairs.length > 0 ? escalatedPairs.map((pair, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-debugging\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"single-debugging-namentime\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"name\",\n                children: [index + 1, \". \", pair[0][0], \" & \", pair[1][0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"time\",\n                children: [\"Matched at \", pair[2][0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRematchFlag(pair[1][0], pair[1][1], pair[0][0], pair[0][1]),\n              children: \"Rematch and Flag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"darkred\",\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: \"None yet!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 903,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"general-title\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Non-Escalated Pairs:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-debugging\",\n          children: nonEscalatedPairs && nonEscalatedPairs.length > 0 ? nonEscalatedPairs.map((pair, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-debugging\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"single-debugging-namentime\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"name\",\n                children: [index + 1, \". \", pair[0][0], \" & \", pair[1][0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"time\",\n                children: [\"Matched at \", pair[2][0]]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 928,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRematchFlag(pair[1][0], pair[1][1], pair[0][0], pair[0][1]),\n              children: \"Rematch and Flag\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\",\n              color: \"darkred\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: \"None yet!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 797,\n      columnNumber: 7\n    }, this);\n  };\n  const renderContentBasedOnRole = role => {\n    switch (role) {\n      case UserRole.Instructor:\n        // to make code easier to read put instructor content in seperate section\n        return renderInstructorContent();\n      case UserRole.DebuggingPartner:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"debugging-partner-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"other-partner-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Your help requester is:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\" \", singleSession.partner ? singleSession.partner.name : \"No one yet!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 15\n            }, this), singleSession.partner && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Issue category: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: singleSession.issueType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"debugging-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bug-category\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Bug category: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 987,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"bugCategory\",\n                placeholder: \"NullPointerException\",\n                value: bugCategory,\n                onChange: e => setBugCategory(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 990,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"debugging-process\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Debugging process: \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 999,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 998,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"debuggingProcess\",\n                placeholder: \"Strategically placed print statements to trace the bug source, then...\",\n                value: debuggingProcess,\n                onChange: e => setDebuggingProcess(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-button\",\n              onClick: handleFormSubmit,\n              children: \"Submit!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"escalate-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Once 15 minutes in a current session have passed, you may escalate:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 15\n            }, this), renderEscalateTimerOrButton()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1012,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 968,\n          columnNumber: 11\n        }, this);\n      case UserRole.HelpRequester:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"debugging-partner-content\",\n          style: {\n            marginBottom: 20\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"other-partner-info\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Your debugging partner is:\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\" \", singleSession.partner ? singleSession.partner.name : \"No one yet!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1030,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1028,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"escalation-content\",\n            children: escalationResult && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: escalationResult\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1039,\n              columnNumber: 36\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n\n  // creation of star background for the code\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"stars-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"stars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"stars2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"stars3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-body\",\n      children: [renderHeaderBasedOnRole(userSession.role), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Welcome, \", (_userSession$user10 = userSession.user) === null || _userSession$user10 === void 0 ? void 0 : _userSession$user10.name.split(\" \")[0], \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"tooltip\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"tooltip-icon\",\n              width: \"24\",\n              height: \"24\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"#000000\",\n              \"stroke-width\": \"2\",\n              \"stroke-linecap\": \"round\",\n              \"stroke-linejoin\": \"round\",\n              onClick: openResourcesWebsite,\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"12\",\n                cy: \"12\",\n                r: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1075,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"12\",\n                y1: \"17\",\n                x2: \"12.01\",\n                y2: \"17\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltiptext\",\n              children: \"Debugging Recipe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }, this), renderContentBasedOnRole(userSession.role)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1056,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1050,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"+oA/Crc7zdyNl41iFqfB5ewCgTE=\", false, function () {\n  return [useRecoilState, useRecoilState, useNavigate, useRecoilValue];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","useRecoilState","useRecoilValue","IssueType","UserRole","mockedMode","singleSessionState","userSessionState","useNavigate","Timer","jsxDEV","_jsxDEV","Dashboard","_s","_userSession$user10","userSession","setUserSession","singleSession","setSingleSession","navigate","bugCategory","setBugCategory","debuggingProcess","setDebuggingProcess","fullTimeRemaining","setFullTimeRemaining","calculateFullTimeRemaining","pairedTime","setPairedTime","escalationTimeRemaining","setEscalationTimeRemaining","calculateTimeBeforeEscalation","sessionStarted","setSessionStarted","unpairedDP","setUnpairedDP","unpairedHR","setUnpairedHR","escalatedPairs","setEscalatedPairs","nonEscalatedPairs","setNonEscalatedPairs","escalationResult","setEscalationResult","isMockedMode","user","partner","issueType","NoneSelected","role","time","_userSession$user","fetchData","fetch","then","response","json","data","error","console","log","intervalId","setInterval","clearInterval","fetchPartner","DebuggingPartner","sessionAsDP","pHelpRequester","issue","HelpRequester","sessionAsHR","pDebuggingPartner","oneHourInMillis","currentTime","Date","getTime","elapsedTime","remainingTime","Math","max","timerInterval","fifteenMinsInMillis","currentHour","getHours","currentMin","getMinutes","currentSec","getSeconds","millisecondsHour","millisecondsInMinute","millisecondsInSecond","currTimeMilis","openDBPs","waitingHRQs","fetchUserData","_userSession$user2","_userSession$user3","name","email","partnerName","helpRequesterName","partnerEmail","helpRequesterEmail","bugType","helpRequesterBug","flagged","alert","pairedAtTimeString","pairedAtTime","hours","minutes","seconds","split","map","Number","millisecondsInHour","adjustHours","pairedAtTimeMilis","Bug","ConceptualQuestion","_userSession$user4","_userSession$user5","debuggingPartnerName","escalated","removeFromQueue","catch","e","Promise","resolves","openResourcesWebsite","url","window","open","handleFormSubmit","method","headers","body","JSON","stringify","ok","Error","status","result","success","handleEscalate","_singleSession$partne","_singleSession$partne2","_singleSession$partne3","_singleSession$partne4","handleEndSession","_userSession$user6","_userSession$user7","_userSession$user8","_userSession$user9","handleStart","handleEnd","downloadInfoResponse","csvBlob","blob","downloadLink","document","createElement","href","URL","createObjectURL","currentDate","formattedDateTime","toLocaleDateString","toLocaleTimeString","download","appendChild","click","removeChild","handleRemove","handleRematchFlag","HRname","HRemail","DPname","DPemail","handleDownloadAll","filenameHeader","get","filename","link","renderHeaderBasedOnRole","_userSession$time","_userSession$time2","Instructor","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","renderTimerOrButton","style","marginBottom","renderEscalateTimerOrButton","renderInstructorContent","height","length","index","color","display","alignItems","justifyContent","pair","renderContentBasedOnRole","type","placeholder","value","onChange","target","id","xmlns","width","viewBox","fill","stroke","cx","cy","r","d","x1","y1","x2","y2","_c","$RefreshReg$"],"sources":["/Users/zdzilowska/Desktop/university/year 2/cs0320/term-project-rdbrooks-meball-jzdzilow-sridley/front/src/components/Dashboard.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport {\n  IssueType,\n  UserRole,\n  mockedMode,\n  singleSessionState,\n  userSessionState,\n} from \"../recoil/atoms\";\nimport \"../styles/Dashboard.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport Timer from \"./Timer\";\nimport \"../styles/nightsky.scss\";\nimport { IUser } from \"../types/IUser\";\n//import * as FileSaver from \"file-saver\";\n\nconst Dashboard = () => {\n  const [userSession, setUserSession] = useRecoilState(userSessionState);\n  const [singleSession, setSingleSession] = useRecoilState(singleSessionState);\n  const navigate = useNavigate();\n  const [bugCategory, setBugCategory] = useState(\"\");\n  const [debuggingProcess, setDebuggingProcess] = useState(\"\");\n  // timer for debugger to leave\n  const [fullTimeRemaining, setFullTimeRemaining] = useState(\n    calculateFullTimeRemaining\n  );\n  // timer for escalation\n  const [pairedTime, setPairedTime] = useState(0);\n  const [escalationTimeRemaining, setEscalationTimeRemaining] = useState(\n    calculateTimeBeforeEscalation\n  );\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // call to get info from backend will continuously update this information\n  const [unpairedDP, setUnpairedDP] = useState([]);\n  const [unpairedHR, setUnpairedHR] = useState([]);\n  const [escalatedPairs, setEscalatedPairs] = useState([]);\n  const [nonEscalatedPairs, setNonEscalatedPairs] = useState([]);\n\n  const [escalationResult, setEscalationResult] = useState(\"\");\n  const isMockedMode = useRecoilValue(mockedMode);\n\n  // resets user session back to log in on unwanted backend interruptions\n  useEffect(() => {\n    if (userSession.user === null) {\n      setSingleSession({\n        partner: null,\n        issueType: IssueType.NoneSelected,\n      });\n      setUserSession({ user: null, role: UserRole.NoneSelected, time: null });\n      navigate(\"/login\");\n    }\n  }, [userSession.user]);\n\n  // resets user session back to log in on session ended\n  useEffect(() => {\n    if (userSession.user?.role !== \"instructor\") {\n      const fetchData = async () => {\n        try {\n          await fetch(\"http://localhost:3333/getInfo\")\n            .then((response) => response.json())\n            .then((data) => {\n              // if successfully can get info (and thus session is running), set values appropriately\n              if (data[\"result\"] === \"success\" && !sessionStarted) {\n                setSessionStarted(true);\n              }\n              // if no session is running, sets all values to empty arrays\n              if (\n                data[\"result\"] === \"error_bad_request\" &&\n                data[\"error_message\"] === \"No session is running.\"\n              ) {\n                setSingleSession({\n                  partner: null,\n                  issueType: IssueType.NoneSelected,\n                });\n                setUserSession({\n                  user: null,\n                  role: UserRole.NoneSelected,\n                  time: null,\n                });\n              }\n            });\n        } catch (error) {\n          console.log(\"Error encountered: \" + error);\n        }\n      };\n      // fetches data initally\n      fetchData();\n      // Fetch data every 5 seconds\n      const intervalId = setInterval(fetchData, 5000);\n      return () => clearInterval(intervalId);\n    }\n  }, []);\n\n  /* MOCKED BACKEND -------------------------------------- */\n\n  useEffect(() => {\n    if (isMockedMode) {\n      const fetchPartner = async () => {\n        try {\n          const response = await fetch(\"http://localhost:2000/getSession\");\n          const data = await response.json();\n          if (userSession.role === UserRole.DebuggingPartner) {\n            const sessionAsDP = data.pHelpRequester;\n            const partner = sessionAsDP.user;\n            const issue = sessionAsDP.issueType;\n            setSingleSession({ partner: partner, issueType: issue });\n          }\n          if (userSession.role === UserRole.HelpRequester) {\n            const sessionAsHR = data.pDebuggingPartner;\n            const partner = sessionAsHR.user;\n            setSingleSession({\n              partner: partner,\n              issueType: singleSession.issueType,\n            });\n          }\n        } catch (error) {\n          console.log(\"Error encountered in mocked mode: \" + error);\n        }\n      };\n      fetchPartner();\n    }\n  }, []);\n\n  /* end of MOCKED BACKEND -------------------------------------- */\n\n  /* -------------------------------timer content ---------------------------------------*/\n\n  // calculates time remaining for a session\n  function calculateFullTimeRemaining() {\n    if (userSession.time === null) {\n      return 0;\n    }\n\n    const oneHourInMillis = 60 * 60 * 1000; // 1 hour in milliseconds\n    const currentTime = new Date().getTime();\n    const elapsedTime = currentTime - userSession.time.getTime();\n    const remainingTime = Math.max(oneHourInMillis - elapsedTime, 0);\n    return remainingTime;\n  }\n\n  useEffect(() => {\n    const timerInterval = setInterval(() => {\n      setFullTimeRemaining(calculateFullTimeRemaining());\n    }, 1000);\n\n    return () => clearInterval(timerInterval);\n  }, [userSession.time]);\n\n  // timer for escalation (15 minutes)\n  function calculateTimeBeforeEscalation() {\n    if (userSession.time === null) {\n      return 0;\n    }\n    const fifteenMinsInMillis = 1 * 60 * 1000; // 15 mins in milliseconds\n    const currentHour = new Date().getHours();\n    const currentMin = new Date().getMinutes();\n    const currentSec = new Date().getSeconds();\n\n    const millisecondsHour = 60 * 60 * 1000; // 1 hour in milliseconds\n    const millisecondsInMinute = 60 * 1000; // 1 minute in milliseconds\n    const millisecondsInSecond = 1000; // 1 sec in milliseconds\n\n    const currTimeMilis =\n      currentHour * millisecondsHour +\n      currentMin * millisecondsInMinute +\n      currentSec * millisecondsInSecond;\n\n    // change userSession.time.getTime() to something that changes when people are matched\n    console.log(currTimeMilis, pairedTime);\n    const elapsedTime = currTimeMilis - pairedTime;\n    const remainingTime = Math.max(fifteenMinsInMillis - elapsedTime, 0);\n    return remainingTime;\n  }\n\n  useEffect(() => {\n    const timerInterval = setInterval(() => {\n      setEscalationTimeRemaining(calculateTimeBeforeEscalation());\n    }, 1000);\n\n    return () => clearInterval(timerInterval);\n  }, [singleSession]);\n\n  /* ---------------------------- end of timer content ------------------------------------*/\n\n  /* -------------------------- get info for instructors ----------------------------------*/\n\n  /* gets information about debugging parters, help requesters and pairings from \n  backend to update instructor page */\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        await fetch(\"http://localhost:3333/getInfo\")\n          .then((response) => response.json())\n          .then((data) => {\n            // if successfully can get info (and thus session is running), set values appropriately\n            if (data[\"result\"] === \"success\") {\n              setUnpairedDP(data.openDBPs);\n              setUnpairedHR(data.waitingHRQs);\n              setEscalatedPairs(data.escalatedPairs);\n              setNonEscalatedPairs(data.nonEscalatedPairs);\n            }\n            // if no session is running, sets all values to empty arrays\n            if (\n              data[\"result\"] === \"error_bad_request\" &&\n              data[\"error_message\"] === \"No session is running.\"\n            ) {\n              setUnpairedDP([]);\n              setUnpairedHR([]);\n              setEscalatedPairs([]);\n              setNonEscalatedPairs([]);\n            }\n          });\n      } catch (error) {\n        console.log(\"Error encountered when fetching session data: \" + error);\n      }\n    };\n\n    // fetches data initally\n    fetchData();\n\n    // Fetch data every 5 seconds (adjust the interval as needed)\n    const intervalId = setInterval(fetchData, 5000);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  /* -------------------------- end of get info for instructors ---------------------------*/\n\n  /* ---------------------------------- get info debuggings and help requesters -----------------------------------------*/\n\n  // get info for debugging helpers and help requesters every 5 seconds\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        if (userSession.role === UserRole.DebuggingPartner) {\n          await fetch(\n            \"http://localhost:3333/getInfo?role=debuggingPartner&name=\" +\n              userSession.user?.name +\n              \"&email=\" +\n              userSession.user?.email\n          )\n            .then((response) => response.json())\n            .then((data) => {\n              if (data[\"result\"] === \"error_bad_request\") {\n                setUserSession({\n                  user: null,\n                  role: UserRole.NoneSelected,\n                  time: null,\n                });\n              }\n              // create partner\n              const partnerName = data.helpRequesterName;\n              const partnerEmail = data.helpRequesterEmail;\n              const bugType = data.helpRequesterBug;\n              const flagged: boolean = data.flagged;\n              if (flagged) {\n                setSingleSession({\n                  partner: null,\n                  issueType: IssueType.NoneSelected,\n                });\n                return alert(\"You have been flagged!\");\n              }\n              const pairedAtTimeString = data.pairedAtTime;\n              const [hours, minutes, seconds] = pairedAtTimeString\n                .split(\":\")\n                .map(Number);\n              const millisecondsInHour = 60 * 60 * 1000; // 1 hour in milliseconds\n              const millisecondsInMinute = 60 * 1000; // 1 minute in milliseconds\n              const millisecondsInSecond = 1000; // 1 second in milliseconds\n\n              // to fix problem of backend not being 24 hour clock\n              var adjustHours = hours;\n\n              // add 12 hours to the hours from the backend when in the 24 hr clock it's 13+\n              if (new Date().getHours() > 12) {\n                adjustHours += 12;\n              }\n\n              // adjust hours will be the hours when 0-12\n              // adjust hours will add 12 hours to backend when 13-24\n              const pairedAtTimeMilis =\n                adjustHours * millisecondsInHour +\n                minutes * millisecondsInMinute +\n                seconds * millisecondsInSecond;\n\n              if (partnerName === \"\") {\n                setSingleSession({\n                  partner: null,\n                  issueType: IssueType.NoneSelected,\n                });\n              }\n              if (partnerName !== \"\") {\n                setPairedTime(pairedAtTimeMilis);\n                var partner: IUser = {\n                  email: partnerEmail,\n                  name: partnerName,\n                  role: \"student\",\n                };\n                if (bugType === \"bug\") {\n                  setSingleSession({\n                    partner: partner,\n                    issueType: IssueType.Bug,\n                  });\n                }\n                if (bugType === \"conceptual\") {\n                  setSingleSession({\n                    partner: partner,\n                    issueType: IssueType.ConceptualQuestion,\n                  });\n                }\n              }\n            });\n        }\n        if (userSession.role === UserRole.HelpRequester) {\n          await fetch(\n            \"http://localhost:3333/getInfo?role=helpRequester&name=\" +\n              userSession.user?.name +\n              \"&email=\" +\n              userSession.user?.email\n          )\n            .then((response) => response.json())\n            .then((data) => {\n              if (data[\"result\"] === \"error_bad_request\") {\n                setUserSession({\n                  user: null,\n                  role: UserRole.NoneSelected,\n                  time: null,\n                });\n              }\n              const partnerName = data.debuggingPartnerName;\n              const escalated = data.escalated;\n              if (escalated) {\n                setEscalationResult(\"You have been escalated\");\n              }\n              if (partnerName === \"\") {\n                setSingleSession({\n                  partner: null,\n                  issueType: IssueType.NoneSelected,\n                });\n              }\n\n              if (partnerName !== \"\") {\n                var partner: IUser = {\n                  email: \"\",\n                  name: partnerName,\n                  role: \"student\",\n                };\n\n                setSingleSession({\n                  partner: partner,\n                  issueType: singleSession.issueType,\n                });\n              }\n            });\n        }\n      } catch (error) {\n        console.log(\"Error encountered during fetching user data\" + error);\n      }\n    };\n\n    // fetches data initally\n    fetchUserData();\n\n    // Fetches data every 5 seconds\n    const intervalId = setInterval(() => fetchUserData(), 5000);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  function removeFromQueue(\n    email: string | undefined,\n    name: string | undefined,\n    role: UserRole\n  ): Promise<String> {\n    if (role === UserRole.DebuggingPartner) {\n      console.log(name);\n      console.log(email);\n      return fetch(\n        \"http://localhost:3333/debuggingPartnerDone?name=\" +\n          name +\n          \"&email=\" +\n          email +\n          \"&record=yes\"\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          return data[\"result\"];\n        })\n        .catch((error) => {\n          console.log(\n            \"Error encountered when removing debugging partner from queue\" +\n              error\n          );\n        });\n    }\n    // if user is a help requester and they have been paired\n    if (role === UserRole.HelpRequester && singleSession.partner) {\n      return fetch(\n        \"http://localhost:3333/helpRequesterDone?name=\" +\n          name +\n          \"&email=\" +\n          email +\n          \"&record=yes\"\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          return data[\"result\"];\n        })\n        .catch((e) => {\n          return \"ERROR: \" + e;\n        });\n    }\n    // if user is help requester and they haven't been paired\n    if (role === UserRole.HelpRequester && singleSession.partner == null) {\n      return fetch(\n        \"http://localhost:3333/helpRequesterDone?name=\" +\n          name +\n          \"&email=\" +\n          email +\n          \"&record=no\"\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          return data[\"result\"];\n        })\n        .catch((error) => {\n          console.log(\n            \"Error encountered when removing help requester from queue\" + error\n          );\n        });\n    } else {\n      return new Promise<String>((resolves) => {\n        resolves(\n          \"ERROR: UserRole must be HelpRequester or DebuggingPartner for this function\"\n        );\n      });\n    }\n  }\n\n  /* ---------------------------------- end get info debuggings and help requesters -----------------------------------------*/\n\n  const openResourcesWebsite = () => {\n    const url: string = \"https://hackmd.io/@brown-csci0320/BJKCtyxxs/\";\n    window.open(url, \"_blank\");\n  };\n\n  /* ---------------------------------- handlers -----------------------------------------*/\n\n  const handleFormSubmit = async () => {\n    console.log(mockedMode);\n    if (bugCategory === \"\" || debuggingProcess === \"\") {\n      return alert(\"Bug category and debugging process inputs required!\");\n    }\n    if (!singleSession.partner) {\n      alert(\n        \"You cannot submit this form until you have been matched with a help requester\"\n      );\n    }\n    if (userSession.user && singleSession.partner) {\n      console.log(\n        userSession.user.email,\n        singleSession.partner,\n        bugCategory,\n        debuggingProcess\n      );\n      try {\n        if (isMockedMode) {\n          const response = await fetch(\"http://localhost:2000/submitForm/\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              data: {\n                user: userSession.user.email,\n                partner: singleSession.partner.email,\n                bugCategory: bugCategory,\n                debuggingProcess: debuggingProcess,\n              },\n            }),\n          });\n\n          if (!response.ok) {\n            // If the server returns an error status\n            throw new Error(\"Server error: \" + response.status);\n          } else {\n            const result = await response.json();\n            if (result.success) {\n              setSingleSession({\n                partner: null,\n                issueType: IssueType.NoneSelected,\n              });\n              setBugCategory(\"\");\n              setDebuggingProcess(\"\");\n            } else {\n              // Handle other success scenarios or display an error message\n              alert(\"Form submission failed:\" + result);\n            }\n          }\n        } else {\n          // THIS WILL NOT WORK YET DON\"T HAVE EMAIL OF HELP REQUESTER\n          // need to get the info about who is submitting\n          const response = await fetch(\n            \"http://localhost:3333/submitDebuggingQuestions?debuggingPartnerName=\" +\n              userSession.user.name +\n              \"&debuggingPartnerEmail=\" +\n              userSession.user.email +\n              \"&helpRequesterName=\" +\n              singleSession.partner.name +\n              \"&helpRequesterEmail=\" +\n              singleSession.partner.email +\n              \"&bugCategory=\" +\n              bugCategory +\n              \"&debuggingProcess=\" +\n              debuggingProcess\n          )\n            .then((response) => response.json())\n            .then((data) => {\n              if (data.result === \"success\") {\n                // SUBMITTING THE FORM DOESN\"T RESET THE DEBUGGING PARTNER; ONLY \"I'M DONE\" BY THE HELP REQUESTER\n                // setSingleSession({\n                //   partner: null,\n                //   issueType: IssueType.NoneSelected,\n                // });\n                setBugCategory(\"\");\n                setDebuggingProcess(\"\");\n                console.log(\"success\");\n              }\n            });\n        }\n      } catch (error) {\n        console.log(\"Error encountered during form submission\" + error);\n      }\n    }\n  };\n\n  const handleEscalate = async () => {\n    try {\n      console.log(singleSession.partner?.name, singleSession.partner?.email);\n      await fetch(\n        \"http://localhost:3333/escalate?helpRequesterName=\" +\n          singleSession.partner?.name +\n          \"&helpRequesterEmail=\" +\n          singleSession.partner?.email\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.result === \"success\") {\n            setEscalationResult(\"Escalation Success\");\n          } else {\n            setEscalationResult(\"Escalation failed\");\n          }\n        });\n    } catch (error) {\n      console.error(\"ERROR: \" + error);\n    }\n  };\n\n  const handleEndSession = (role: UserRole) => {\n    if (role === UserRole.DebuggingPartner) {\n      removeFromQueue(\n        userSession.user?.email,\n        userSession.user?.name,\n        UserRole.DebuggingPartner\n      );\n    }\n    if (role === UserRole.HelpRequester) {\n      console.log(userSession);\n      removeFromQueue(\n        userSession.user?.email,\n        userSession.user?.name,\n        UserRole.HelpRequester\n      );\n      // reset partner of debugging partner\n\n      // take help requester out of the queue\n    }\n    setBugCategory(\"\");\n    setDebuggingProcess(\"\");\n    setSingleSession({ partner: null, issueType: IssueType.NoneSelected });\n    setUserSession({ user: null, role: UserRole.NoneSelected, time: null });\n  };\n\n  // starts the session by calling backend\n  const handleStart = async () => {\n    try {\n      await fetch(\"http://localhost:3333/session?command=begin\");\n    } catch (error) {\n      console.log(\"Error encountered during session start: \" + error);\n    }\n    setSessionStarted(true);\n  };\n\n  // ends the session by calling backend\n  const handleEnd = async () => {\n    try {\n      // end session\n      await fetch(\"http://localhost:3333/session?command=end\");\n\n      const downloadInfoResponse = await fetch(\n        \"http://localhost:3333/downloadInfo?type=debugging\"\n      );\n\n      if (downloadInfoResponse.ok) {\n        // if success response\n        const csvBlob = await downloadInfoResponse.blob(); // create blob element\n        const downloadLink = document.createElement(\"a\"); // create link\n        downloadLink.href = URL.createObjectURL(csvBlob); // url for blob, set as href attribute\n\n        // get current date for filename\n        const currentDate = new Date();\n        const formattedDateTime =\n          currentDate.toLocaleDateString() +\n          \"-\" +\n          currentDate.toLocaleTimeString();\n\n        // Set file name for download\n        downloadLink.download =\n          \"debugging-attendance-\" + formattedDateTime + \".csv\";\n        document.body.appendChild(downloadLink); // add link to document body\n        downloadLink.click(); // trigger click on link\n        document.body.removeChild(downloadLink); // remove link from document body\n      } else {\n        console.log(\"ERROR: could not download\");\n      }\n    } catch (error) {\n      console.log(\"Error encountered during session end\" + error);\n    }\n    setSessionStarted(false);\n  };\n\n  // removes a debugging partner from attendance (button accessible to instructors)\n  const handleRemove = (name: string, email: string) => async () => {\n    console.log(\"TEST\");\n    return fetch(\n      \"http://localhost:3333/debuggingPartnerDone?name=\" +\n        name +\n        \"&email=\" +\n        email +\n        \"&record=no\"\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        return data[\"message\"];\n      })\n      .catch((error) => {\n        console.log(\n          \"Error encountered during debugging partner removal: \" + error\n        );\n      });\n  };\n\n  // will rematch the help requester and flag the debugging partner by removing from attendance\n  const handleRematchFlag =\n    (HRname: string, HRemail: string, DPname: string, DPemail: string) =>\n    async () => {\n      return fetch(\n        \"http://localhost:3333/flagAndRematch?helpRequesterName=\" +\n          HRname +\n          \"&helpRequesterEmail=\" +\n          HRemail +\n          \"&debuggingPartnerName=\" +\n          DPname +\n          \"&debuggingPartnerEmail=\" +\n          DPemail\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          return data[\"message\"];\n        })\n        .catch((error) => {\n          console.log(\"Error encountered during rematching: \" + error);\n        });\n    };\n\n  console.log(\"session started \" + sessionStarted);\n\n  const handleDownloadAll = async () => {\n    await fetch(\"http://localhost:3333/downloadInfo?type=all\", {\n      method: \"GET\",\n    })\n      .then((response) => {\n        if (!response.ok) {\n          alert(\"HTTP error! Status: \" + response.status);\n        }\n        const filenameHeader = response.headers.get(\"Content-Disposition\");\n        const filename = filenameHeader\n          ? filenameHeader.split(\"=\")[1]\n          : \"all-attendance.csv\";\n        console.log(filename);\n        console.log(filenameHeader);\n        return response.blob().then((blob) => ({ blob, filename }));\n      })\n      .then(({ blob, filename }) => {\n        const link = document.createElement(\"a\");\n        link.href = URL.createObjectURL(blob);\n        link.download = filename;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      })\n      .catch((error) => {\n        console.log(\"Error encountered during data download: \" + error);\n      });\n  };\n\n  /* ----------------------- end of handlers / below rendering ---------------------------*/\n\n  const renderHeaderBasedOnRole = (role: UserRole) => {\n    switch (role) {\n      case UserRole.Instructor:\n        return (\n          <header className=\"instructor-header\">\n            <button className=\"download-button\" onClick={handleDownloadAll}>\n              Download All Data\n            </button>\n            {!sessionStarted ? (\n              <button className=\"start-button\" onClick={handleStart}>\n                Start Session\n              </button>\n            ) : (\n              <button className=\"end-button\" onClick={handleEnd}>\n                End Session\n              </button>\n            )}\n          </header>\n        );\n      case UserRole.DebuggingPartner:\n        return (\n          <header className=\"user-header\">\n            <p className=\"join-time\">\n              Join time: {userSession.time?.toLocaleTimeString()}\n            </p>\n            {}\n            {renderTimerOrButton()}\n          </header>\n        );\n      case UserRole.HelpRequester:\n        return (\n          <header className=\"user-header\" style={{ marginBottom: 170 }}>\n            <p className=\"join-time\">\n              Join time: {userSession.time?.toLocaleTimeString()}\n            </p>\n            {}\n            <button\n              className=\"done-button\"\n              onClick={() => handleEndSession(UserRole.HelpRequester)}\n            >\n              I'm done!\n            </button>\n          </header>\n        );\n      default:\n        return null;\n    }\n  };\n\n  const renderTimerOrButton = () => {\n    // full time remaining = 60\n    if (fullTimeRemaining > 0) {\n      return <Timer fullTimeRemaining={fullTimeRemaining} />;\n    } else if (fullTimeRemaining === 0) {\n      return (\n        <button\n          className=\"done-button\"\n          onClick={() => handleEndSession(UserRole.DebuggingPartner)}\n        >\n          I'm done!\n        </button>\n      );\n    }\n  };\n\n  const renderEscalateTimerOrButton = () => {\n    if (!singleSession.partner) {\n      return \"Single session hasn't started!\";\n    } else if (escalationTimeRemaining > 0) {\n      return <Timer fullTimeRemaining={escalationTimeRemaining} />;\n    } else if (escalationTimeRemaining === 0) {\n      return (\n        // <button className=\"escalate-button\" onClick={() => handleEscalate()}>\n        //   Escalate!\n        // </button>\n        <div>\n          <button className=\"escalate-button\" onClick={handleEscalate}>\n            {\" \"}\n            Escalate!{\" \"}\n          </button>\n          {escalationResult && <p>{escalationResult}</p>}\n        </div>\n      );\n    }\n  };\n\n  // creation of instructor page\n  const renderInstructorContent = () => {\n    return (\n      <div className=\"instructor-container\">\n        <div className=\"unpaired-students-container\">\n          <div className=\"general-title\">\n            <b>Debugging Partners:</b>\n          </div>\n          <div className=\"list-debugging\" style={{ height: \"95px\" }}>\n            {/*checks if there are unpaired debugging partners to determine what to dispaly*/}\n            {unpairedDP && unpairedDP.length > 0 ? (\n              unpairedDP.map((partner, index) => (\n                <div key={index} className=\"single-debugging\">\n                  <div className=\"single-debugging-namentime\">\n                    {/*displays debugging partner name*/}\n                    <p className=\"name\">\n                      {index + 1}. {partner[0]}\n                    </p>\n                    {/*displays join time*/}\n                    <p className=\"time\">Joined at {partner[2]}</p>\n                  </div>\n                  {/*button to remove from attendance*/}\n                  <button onClick={handleRemove(partner[0], partner[1])}>\n                    Remove\n                  </button>\n                </div>\n              ))\n            ) : (\n              <div\n                style={{\n                  marginBottom: \"10px\",\n                  color: \"darkred\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                None available!\n              </div>\n            )}\n          </div>\n          <div className=\"general-title\">\n            <b>Help Requesters:</b>\n          </div>{\" \"}\n          <div className=\"list-debugging\">\n            {/*checks if there are unpaired help requester to determine what to display*/}\n            {unpairedHR && unpairedHR.length > 0 ? (\n              unpairedHR.map((partner, index) => (\n                <div\n                  key={index}\n                  className=\"single-debugging\"\n                  style={{ display: \"flex\", justifyContent: \"flex-start\" }}\n                >\n                  <div className=\"single-debugging-namentime\">\n                    {/*displays help requester name*/}\n                    <p className=\"name\">\n                      {index + 1}. {partner[0]}\n                    </p>\n                    {/*displays join time*/}\n                    <p className=\"time\">Joined at {partner[2]}</p>\n                  </div>\n                </div>\n              ))\n            ) : (\n              <div\n                style={{\n                  marginBottom: \"10px\",\n                  color: \"darkred\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                None in queue!\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"paired-students-container\">\n          <div className=\"general-title\">\n            <b>Escalated Pairs:</b>\n          </div>{\" \"}\n          <div className=\"list-debugging\" style={{ height: \"95px\" }}>\n            {/*checks if there are escalated pairs to determine what to display*/}\n            {escalatedPairs && escalatedPairs.length > 0 ? (\n              escalatedPairs.map((pair, index) => (\n                <div key={index} className=\"single-debugging\">\n                  <div className=\"single-debugging-namentime\">\n                    {/*displays names of pair*/}\n                    <p className=\"name\">\n                      {index + 1}. {pair[0][0]} & {pair[1][0]}\n                    </p>\n                    {/*displays time of match*/}\n                    <p className=\"time\">Matched at {pair[2][0]}</p>\n                  </div>\n                  {/*button to rematch help requester and flag debugging partner*/}\n                  <button\n                    onClick={handleRematchFlag(\n                      pair[1][0],\n                      pair[1][1],\n                      pair[0][0],\n                      pair[0][1]\n                    )}\n                  >\n                    Rematch and Flag\n                  </button>\n                </div>\n              ))\n            ) : (\n              <div\n                style={{\n                  color: \"darkred\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                }}\n              >\n                None yet!\n              </div>\n            )}\n          </div>\n          <div className=\"general-title\">\n            <b>Non-Escalated Pairs:</b>\n          </div>{\" \"}\n          <div className=\"list-debugging\">\n            {/*checks if there are non-escalated pairs to determine what to display*/}\n            {nonEscalatedPairs && nonEscalatedPairs.length > 0 ? (\n              nonEscalatedPairs.map((pair, index) => (\n                <div key={index} className=\"single-debugging\">\n                  <div className=\"single-debugging-namentime\">\n                    {/*displays names of pair*/}\n                    <p className=\"name\">\n                      {index + 1}. {pair[0][0]} & {pair[1][0]}\n                    </p>\n                    {/*displays time of match*/}\n                    <p className=\"time\">Matched at {pair[2][0]}</p>\n                  </div>\n                  <button\n                    onClick={handleRematchFlag(\n                      pair[1][0],\n                      pair[1][1],\n                      pair[0][0],\n                      pair[0][1]\n                    )}\n                  >\n                    Rematch and Flag\n                  </button>\n                </div>\n              ))\n            ) : (\n              <div\n                style={{\n                  marginBottom: \"10px\",\n                  color: \"darkred\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                None yet!\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderContentBasedOnRole = (role: UserRole) => {\n    switch (role) {\n      case UserRole.Instructor:\n        // to make code easier to read put instructor content in seperate section\n        return renderInstructorContent();\n      case UserRole.DebuggingPartner:\n        return (\n          <div className=\"debugging-partner-content\">\n            <div className=\"other-partner-info\">\n              <p>\n                Your help requester is:{\" \"}\n                <b>\n                  {\" \"}\n                  {singleSession.partner\n                    ? singleSession.partner.name\n                    : \"No one yet!\"}\n                </b>\n              </p>\n              {singleSession.partner && (\n                <p>\n                  Issue category: <b>{singleSession.issueType}</b>\n                </p>\n              )}\n            </div>\n            <div className=\"debugging-form\">\n              <div className=\"bug-category\">\n                <p>\n                  <b>Bug category: </b>\n                </p>\n                <input\n                  type=\"bugCategory\"\n                  placeholder=\"NullPointerException\"\n                  value={bugCategory}\n                  onChange={(e) => setBugCategory(e.target.value)}\n                />\n              </div>\n              <div className=\"debugging-process\">\n                <p>\n                  <b>Debugging process: </b>\n                </p>\n                <input\n                  type=\"debuggingProcess\"\n                  placeholder=\"Strategically placed print statements to trace the bug source, then...\"\n                  value={debuggingProcess}\n                  onChange={(e) => setDebuggingProcess(e.target.value)}\n                />\n              </div>\n              <button className=\"submit-button\" onClick={handleFormSubmit}>\n                Submit!\n              </button>\n            </div>\n            <div className=\"escalate-container\">\n              <b>\n                Once 15 minutes in a current session have passed, you may\n                escalate:\n              </b>\n              {renderEscalateTimerOrButton()}\n            </div>\n          </div>\n        );\n      case UserRole.HelpRequester:\n        return (\n          <div\n            className=\"debugging-partner-content\"\n            style={{ marginBottom: 20 }}\n          >\n            <div className=\"other-partner-info\">\n              <p>\n                Your debugging partner is:{\" \"}\n                <b>\n                  {\" \"}\n                  {singleSession.partner\n                    ? singleSession.partner.name\n                    : \"No one yet!\"}\n                </b>{\" \"}\n              </p>\n            </div>\n            <div className=\"escalation-content\">\n              {escalationResult && <p>{escalationResult}</p>}\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  // creation of star background for the code\n  return (\n    <div className=\"body\">\n      <div id=\"stars-container\">\n        <div id=\"stars\"></div>\n        <div id=\"stars2\"></div>\n        <div id=\"stars3\"></div>\n      </div>\n      <div className=\"dashboard-body\">\n        {renderHeaderBasedOnRole(userSession.role)}\n        <div className=\"dashboard-container\">\n          <div className=\"welcome-container\">\n            <h1>Welcome, {userSession.user?.name.split(\" \")[0]}!</h1>\n            <button className=\"tooltip\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"tooltip-icon\"\n                width=\"24\"\n                height=\"24\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"#000000\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                onClick={openResourcesWebsite}\n              >\n                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"></path>\n                <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line>\n              </svg>\n              <span className=\"tooltiptext\">Debugging Recipe</span>\n            </button>\n          </div>\n          {renderContentBasedOnRole(userSession.role)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}